1
00:00:00,000 --> 00:00:05,000
好,各位好,我是部分系的劉翊安

2
00:00:05,000 --> 00:00:09,000
那今天來介紹一下我這個學期在不分系做的專題

3
00:00:09,000 --> 00:00:13,000
那今天這個專題主要跟股市交易有關

4
00:00:13,000 --> 00:00:17,000
這部分的內容啊,跟資料科學有關

5
00:00:17,000 --> 00:00:21,000
那因為時間的關係,更多相關內容可以到科技探索

6
00:00:21,000 --> 00:00:24,000
成於資料科學這個頻道觀看喔

7
00:00:24,000 --> 00:00:29,000
連結會放在底下的資訊欄,歡迎有興趣的朋友去看看

8
00:00:29,000 --> 00:00:34,000
那主要的動機就是因為我在做股票操作的時候啊

9
00:00:34,000 --> 00:00:40,000
我發現市面上有三種非常常見的預測跟交易的方法

10
00:00:40,000 --> 00:00:45,000
那我就在思考說,如果這三種方法可以把它融合起來的話

11
00:00:45,000 --> 00:00:47,000
會不會得到更好的交易回報率

12
00:00:47,000 --> 00:00:49,000
所以就有了今天的這個專題

13
00:00:49,000 --> 00:00:53,000
那我今天講的敘述的內容主要就是由上往下

14
00:00:53,000 --> 00:00:56,000
大家可以看到灰色跟藍色的框框嘛

15
00:00:56,000 --> 00:00:58,000
我覺得照這個順序去講

16
00:00:58,000 --> 00:01:00,000
那我們就直接開始吧

17
00:01:00,000 --> 00:01:03,000
那因為這個是我們期末的海報

18
00:01:03,000 --> 00:01:08,000
它有點長,我把它分成兩段來做介紹

19
00:01:08,000 --> 00:01:12,000
那首先呢,看到第二個藍色的

20
00:01:12,000 --> 00:01:15,000
那我這次取得測試資料

21
00:01:15,000 --> 00:01:19,000
就是目前年輕人很常使用的一個標的

22
00:01:19,000 --> 00:01:22,000
就是台灣的元大50,也就是0050

23
00:01:22,000 --> 00:01:24,000
那它是一檔ETF

24
00:01:24,000 --> 00:01:29,000
其實它包含了台灣就是千五十大公司裡面所有的股票

25
00:01:29,000 --> 00:01:33,000
然後它的好處是說為什麼年輕人喜歡用

26
00:01:33,000 --> 00:01:37,000
因為你不需要花很多的時間去看盤,去盯盤

27
00:01:37,000 --> 00:01:42,000
另外呢,因為它代表了台灣千五十大的公司嘛

28
00:01:42,000 --> 00:01:46,000
那台灣的經濟整體還是持續在往上走的

29
00:01:46,000 --> 00:01:51,000
所以這檔股票呢,它也會隨著時間一直的往上去

30
00:01:51,000 --> 00:01:54,000
就是一直上升,它的股價會一直上升

31
00:01:54,000 --> 00:01:57,000
那這一點呢,就是確定的

32
00:01:57,000 --> 00:02:00,000
就是如果台灣的經濟一直上漲的話

33
00:02:00,000 --> 00:02:02,000
所以這是我們就是

34
00:02:02,000 --> 00:02:06,000
很多人很喜歡投資的一檔標的

35
00:02:06,000 --> 00:02:09,000
那我就以這個作為我這次測試的目標

36
00:02:09,000 --> 00:02:11,000
那首先可以看到藍色框框裡面

37
00:02:11,000 --> 00:02:13,000
左邊這張黑色的標格

38
00:02:13,000 --> 00:02:16,000
這個標格呢,就是我在網路上抓到的

39
00:02:16,000 --> 00:02:20,000
從2014年1月到2023年11月

40
00:02:20,000 --> 00:02:23,000
所有每天的交易的資料

41
00:02:23,000 --> 00:02:25,000
那這資料包含就是比如說

42
00:02:25,000 --> 00:02:28,000
收盤的價格啊,開盤價格

43
00:02:28,000 --> 00:02:31,000
當日最高最低價,當日的交易量

44
00:02:31,000 --> 00:02:36,000
還有今天跟昨天對比價格變化的百分比

45
00:02:36,000 --> 00:02:38,000
那有了這個標格以後呢

46
00:02:38,000 --> 00:02:41,000
我首先就把它畫成一個走勢的圖

47
00:02:41,000 --> 00:02:44,000
大家可以看到右邊這張圖,白色的

48
00:02:44,000 --> 00:02:47,000
那它裡面的總共其實包含四條線啦

49
00:02:47,000 --> 00:02:50,000
但這四條線其實長得還蠻近的

50
00:02:50,000 --> 00:02:53,000
所以它就會就是大概呈現這樣一個

51
00:02:53,000 --> 00:02:55,000
往上走的狀態

52
00:02:55,000 --> 00:02:57,000
好,那接下來呢

53
00:02:57,000 --> 00:02:59,000
我就開始介紹一下

54
00:02:59,000 --> 00:03:03,000
我發現的三個常見的股市交易策略

55
00:03:03,000 --> 00:03:06,000
好,那首先第一個呢

56
00:03:06,000 --> 00:03:08,000
是Golden Cross

57
00:03:08,000 --> 00:03:10,000
Golden Cross它基本上就是

58
00:03:10,000 --> 00:03:14,000
跟均線有關的一個交易策略

59
00:03:14,000 --> 00:03:15,000
那什麼是均線呢?

60
00:03:15,000 --> 00:03:17,000
均線就是比如說

61
00:03:17,000 --> 00:03:20,000
今天,我今天均線的點,值

62
00:03:20,000 --> 00:03:22,000
它是什麼?它是我錢

63
00:03:22,000 --> 00:03:24,000
比如說錢20天

64
00:03:24,000 --> 00:03:28,000
所有股票的價錢加起來平均

65
00:03:28,000 --> 00:03:30,000
就是我今天均線的值

66
00:03:30,000 --> 00:03:33,000
那每一天的值都是這樣計算出來的

67
00:03:33,000 --> 00:03:36,000
那Golden Cross它就要取兩個均線

68
00:03:36,000 --> 00:03:38,000
一個是長均線,一個是短均線

69
00:03:38,000 --> 00:03:40,000
那我所取的數值是

70
00:03:40,000 --> 00:03:42,000
長均線是20天

71
00:03:42,000 --> 00:03:44,000
也就是每一天均線的值

72
00:03:44,000 --> 00:03:48,000
是以前20天的價格平均所算出來的

73
00:03:48,000 --> 00:03:50,000
那5日均線也是同一個道理

74
00:03:50,000 --> 00:03:53,000
就是前5天的均線平均起來

75
00:03:53,000 --> 00:03:55,000
變成今天的均線

76
00:03:55,000 --> 00:03:57,000
那每天都這樣算,畫出一條線

77
00:03:57,000 --> 00:03:59,000
那畫出了兩條線以後呢

78
00:03:59,000 --> 00:04:01,000
因為它們是5日跟20日均線

79
00:04:01,000 --> 00:04:02,000
所以一定不會長得一樣

80
00:04:02,000 --> 00:04:03,000
但是會長得很像

81
00:04:03,000 --> 00:04:05,000
大家看到就是灰色這個框框

82
00:04:05,000 --> 00:04:07,000
裡面最右上的角度,這是這樣圖

83
00:04:07,000 --> 00:04:09,000
它裡面有兩條線

84
00:04:09,000 --> 00:04:11,000
它這兩條線很像,但不一樣

85
00:04:11,000 --> 00:04:13,000
所以它們會有一些兩條線

86
00:04:13,000 --> 00:04:14,000
會有一些交叉嘛

87
00:04:14,000 --> 00:04:16,000
那兩條線的交叉就是

88
00:04:16,000 --> 00:04:18,000
一個往上,一個往下

89
00:04:18,000 --> 00:04:20,000
那接下來就是這個往下,這個往上嘛

90
00:04:20,000 --> 00:04:22,000
所以它們一定是一個往下

91
00:04:22,000 --> 00:04:25,000
跟一個往上有做對照的

92
00:04:25,000 --> 00:04:28,000
那往上跟往下就是

93
00:04:28,000 --> 00:04:30,000
進場跟出場的時機點

94
00:04:30,000 --> 00:04:33,000
好,那我們根據這個方法呢

95
00:04:33,000 --> 00:04:35,000
我就從最一開始

96
00:04:35,000 --> 00:04:37,000
我有一塊錢投入股市

97
00:04:37,000 --> 00:04:40,000
從2014年的時候投入股市

98
00:04:40,000 --> 00:04:42,000
然後我做了10年的交易

99
00:04:42,000 --> 00:04:44,000
到2013年11月的時候

100
00:04:44,000 --> 00:04:46,000
大家可以看到中間這個

101
00:04:46,000 --> 00:04:47,000
灰色框框裡面

102
00:04:47,000 --> 00:04:49,000
中間這個藍色的圖

103
00:04:49,000 --> 00:04:51,000
也就是整個裡面倒數

104
00:04:51,000 --> 00:04:53,000
第二張藍色的圖

105
00:04:53,000 --> 00:04:54,000
大家可以看到就是

106
00:04:54,000 --> 00:04:56,000
我交易的回報率

107
00:04:56,000 --> 00:04:57,000
這是總回報率

108
00:04:57,000 --> 00:04:59,000
那一開始的一塊啊

109
00:04:59,000 --> 00:05:01,000
一直到中間

110
00:05:01,000 --> 00:05:02,000
大概中間開始

111
00:05:02,000 --> 00:05:04,000
它就整個往上

112
00:05:04,000 --> 00:05:06,000
就是它的交易的

113
00:05:06,000 --> 00:05:08,000
就是它的交易的回報啊

114
00:05:08,000 --> 00:05:10,000
就開始整個往上

115
00:05:10,000 --> 00:05:11,000
那最終啊

116
00:05:11,000 --> 00:05:12,000
這10年的時間

117
00:05:12,000 --> 00:05:16,000
我總共有62.48%的交易回報率

118
00:05:16,000 --> 00:05:17,000
也就是說

119
00:05:17,000 --> 00:05:18,000
假設你一開始投入了

120
00:05:18,000 --> 00:05:19,000
10萬塊錢啊

121
00:05:19,000 --> 00:05:21,000
在2014年的時候

122
00:05:21,000 --> 00:05:24,000
你可以拿到16萬

123
00:05:24,000 --> 00:05:28,000
又2480塊的回報

124
00:05:28,000 --> 00:05:29,000
對

125
00:05:29,000 --> 00:05:31,000
好,那這是第一個測試

126
00:05:31,000 --> 00:05:33,000
那第二個常用的

127
00:05:33,000 --> 00:05:35,000
預測股市的策略是什麼

128
00:05:35,000 --> 00:05:36,000
就是Random Forest

129
00:05:36,000 --> 00:05:38,000
那它是一個機器學習的方法

130
00:05:38,000 --> 00:05:41,000
它主要就是根據說

131
00:05:41,000 --> 00:05:45,000
比如說我今天拿到了

132
00:05:45,000 --> 00:05:48,000
昨天的交易量啊

133
00:05:48,000 --> 00:05:51,000
開盤收盤的這個

134
00:05:51,000 --> 00:05:52,000
這個值以後

135
00:05:52,000 --> 00:05:54,000
然後我去對照說

136
00:05:54,000 --> 00:05:55,000
我以前學習過的

137
00:05:55,000 --> 00:05:58,000
這個值最常出現

138
00:05:58,000 --> 00:06:00,000
是什麼樣的價格

139
00:06:00,000 --> 00:06:02,000
然後去預測今天的價格

140
00:06:02,000 --> 00:06:04,000
所以它就有點像是一個

141
00:06:04,000 --> 00:06:05,000
多數決的感覺

142
00:06:05,000 --> 00:06:08,000
好,那利用這個方法

143
00:06:08,000 --> 00:06:09,000
下去計算

144
00:06:09,000 --> 00:06:12,000
我們把標格位進去之後

145
00:06:12,000 --> 00:06:13,000
計算以後

146
00:06:13,000 --> 00:06:15,000
我們得出來的預測結果是什麼

147
00:06:15,000 --> 00:06:17,000
看到最左下這樣圖

148
00:06:17,000 --> 00:06:18,000
它裡面其實有兩個

149
00:06:18,000 --> 00:06:19,000
兩條線喔

150
00:06:19,000 --> 00:06:20,000
一個橘色一個藍色

151
00:06:20,000 --> 00:06:21,000
但大家會發現

152
00:06:21,000 --> 00:06:24,000
其實看不太到藍色的條線

153
00:06:24,000 --> 00:06:26,000
這是因為它的預測結果啊

154
00:06:26,000 --> 00:06:28,000
非常非常的準確

155
00:06:28,000 --> 00:06:30,000
兩條線長得很像

156
00:06:30,000 --> 00:06:33,000
所以它的R2 score

157
00:06:33,000 --> 00:06:36,000
R2 score就是預測精準度

158
00:06:36,000 --> 00:06:37,000
最不準是0

159
00:06:37,000 --> 00:06:38,000
最準是1

160
00:06:38,000 --> 00:06:41,000
那它的R2 score是0.999

161
00:06:41,000 --> 00:06:44,000
就是非常的精準

162
00:06:44,000 --> 00:06:46,000
第三個方法是LSTM

163
00:06:46,000 --> 00:06:47,000
LSTM呢

164
00:06:47,000 --> 00:06:48,000
它跟上面那個

165
00:06:48,000 --> 00:06:50,000
Random Forest不一樣的地方

166
00:06:50,000 --> 00:06:51,000
就是Random Forest

167
00:06:51,000 --> 00:06:53,000
它沒有時間的概念

168
00:06:53,000 --> 00:06:54,000
所以它預測今天

169
00:06:54,000 --> 00:06:55,000
它可能拿了

170
00:06:55,000 --> 00:06:57,000
昨天跟明天的資料

171
00:06:57,000 --> 00:06:58,000
去預測今天

172
00:06:58,000 --> 00:07:00,000
那LSTM不會

173
00:07:00,000 --> 00:07:01,000
它預測今天呢

174
00:07:01,000 --> 00:07:03,000
它就只會拿

175
00:07:03,000 --> 00:07:05,000
昨天以前的資料

176
00:07:05,000 --> 00:07:06,000
去預測今天

177
00:07:06,000 --> 00:07:07,000
對

178
00:07:07,000 --> 00:07:08,000
好

179
00:07:08,000 --> 00:07:09,000
然後

180
00:07:09,000 --> 00:07:11,000
那在這個LSTM啊

181
00:07:11,000 --> 00:07:12,000
我選擇的

182
00:07:12,000 --> 00:07:13,000
拿資料的時間

183
00:07:13,000 --> 00:07:15,000
就是前十日

184
00:07:15,000 --> 00:07:16,000
也就是說

185
00:07:16,000 --> 00:07:18,000
我會拿到

186
00:07:18,000 --> 00:07:20,000
今天以前十天的所有資料

187
00:07:20,000 --> 00:07:22,000
然後去預測今天的股價

188
00:07:22,000 --> 00:07:24,000
那可以看到

189
00:07:24,000 --> 00:07:25,000
最右上角這樣圖啊

190
00:07:25,000 --> 00:07:26,000
它有紅色跟藍色

191
00:07:26,000 --> 00:07:27,000
兩條線嘛

192
00:07:27,000 --> 00:07:29,000
就是一個是預測的曲線

193
00:07:29,000 --> 00:07:31,000
一個是實際的曲線

194
00:07:31,000 --> 00:07:33,000
那它的R2 score

195
00:07:33,000 --> 00:07:34,000
比剛剛稍微差一點

196
00:07:34,000 --> 00:07:35,000
但也是滿好的

197
00:07:35,000 --> 00:07:36,000
最低是0

198
00:07:36,000 --> 00:07:37,000
最高是1

199
00:07:37,000 --> 00:07:38,000
那它的R2 score

200
00:07:38,000 --> 00:07:40,000
是在0.95喔

201
00:07:40,000 --> 00:07:42,000
好

202
00:07:42,000 --> 00:07:43,000
那

203
00:07:43,000 --> 00:07:45,000
看完這三個

204
00:07:45,000 --> 00:07:47,000
最常見的交易方法以後

205
00:07:47,000 --> 00:07:48,000
我就開始試考說

206
00:07:48,000 --> 00:07:49,000
要怎麼把它們

207
00:07:49,000 --> 00:07:50,000
融合在一起

208
00:07:50,000 --> 00:07:51,000
那

209
00:07:51,000 --> 00:07:52,000
我在這邊

210
00:07:52,000 --> 00:07:54,000
我使用的方法就是

211
00:07:54,000 --> 00:07:56,000
Golden Course沒有預測嘛

212
00:07:56,000 --> 00:07:58,000
那LSTM跟Random Forest

213
00:07:58,000 --> 00:07:59,000
都會預測

214
00:07:59,000 --> 00:08:00,000
預測出來之後呢

215
00:08:00,000 --> 00:08:02,000
我再用Golden Course的方法

216
00:08:02,000 --> 00:08:04,000
計算出一個

217
00:08:04,000 --> 00:08:05,000
好

218
00:08:05,000 --> 00:08:06,000
交易回報率

219
00:08:06,000 --> 00:08:07,000
那我期望它的回報率

220
00:08:07,000 --> 00:08:09,000
可以變得更高

221
00:08:09,000 --> 00:08:10,000
那

222
00:08:10,000 --> 00:08:11,000
大家可以看到這個

223
00:08:11,000 --> 00:08:13,000
淺藍色的表格

224
00:08:13,000 --> 00:08:14,000
就是我所有

225
00:08:14,000 --> 00:08:15,000
測試出來的數據

226
00:08:15,000 --> 00:08:16,000
那在

227
00:08:16,000 --> 00:08:17,000
第一列這裡啊

228
00:08:17,000 --> 00:08:20,000
是我每次交易的時間

229
00:08:20,000 --> 00:08:21,000
跟這次交易

230
00:08:21,000 --> 00:08:23,000
進場加出場

231
00:08:23,000 --> 00:08:26,000
我得到多少回報

232
00:08:26,000 --> 00:08:27,000
好

233
00:08:27,000 --> 00:08:28,000
那第二行這邊呢

234
00:08:28,000 --> 00:08:31,000
是我每次交易都累積

235
00:08:31,000 --> 00:08:33,000
把這個回報一直累積上去

236
00:08:33,000 --> 00:08:34,000
看看我最後可以得到

237
00:08:34,000 --> 00:08:35,000
多少回報

238
00:08:35,000 --> 00:08:37,000
那我們直接來看結果

239
00:08:37,000 --> 00:08:40,000
在最左邊

240
00:08:40,000 --> 00:08:41,000
這一行啊

241
00:08:41,000 --> 00:08:43,000
這個Golden Course

242
00:08:43,000 --> 00:08:45,000
它得到的交易結果是

243
00:08:45,000 --> 00:08:47,000
4.59

244
00:08:47,000 --> 00:08:48,000
好

245
00:08:48,000 --> 00:08:50,000
那第二行LSTM

246
00:08:50,000 --> 00:08:52,000
它得到的交易回報率

247
00:08:52,000 --> 00:08:53,000
其實是-2.99

248
00:08:53,000 --> 00:08:56,000
這還蠻出乎意料的

249
00:08:56,000 --> 00:08:57,000
那第三行Random Course

250
00:08:57,000 --> 00:09:00,000
它得到的回報率是3.79

251
00:09:00,000 --> 00:09:02,000
好

252
00:09:02,000 --> 00:09:04,000
3.79其實是一個很正常的數字

253
00:09:04,000 --> 00:09:05,000
因為Golden Course

254
00:09:05,000 --> 00:09:06,000
它是使用現在的

255
00:09:06,000 --> 00:09:09,000
它是使用實際的股價去做

256
00:09:09,000 --> 00:09:11,000
就是兩條均線嘛

257
00:09:11,000 --> 00:09:12,000
但是Random Course

258
00:09:12,000 --> 00:09:14,000
它是先預測現在的股價

259
00:09:14,000 --> 00:09:16,000
所以不一定會準

260
00:09:16,000 --> 00:09:17,000
然後再去做

261
00:09:17,000 --> 00:09:19,000
就是兩條均線

262
00:09:19,000 --> 00:09:20,000
然後去做交易

263
00:09:20,000 --> 00:09:22,000
所以比Golden Course

264
00:09:22,000 --> 00:09:23,000
稍差一點點

265
00:09:23,000 --> 00:09:24,000
是可以理解的

266
00:09:24,000 --> 00:09:25,000
但LSTM呢

267
00:09:25,000 --> 00:09:28,000
它反而就變成負的

268
00:09:28,000 --> 00:09:30,000
就是交易回報

269
00:09:30,000 --> 00:09:32,000
那我們在想呢

270
00:09:32,000 --> 00:09:34,000
這可能是因為交易的區間

271
00:09:34,000 --> 00:09:36,000
就是我現在是拿

272
00:09:36,000 --> 00:09:39,000
2021到2023的這個區間

273
00:09:39,000 --> 00:09:42,000
去做就是交易

274
00:09:42,000 --> 00:09:44,000
那比如說我拿

275
00:09:44,000 --> 00:09:46,000
2014到2016的區間

276
00:09:46,000 --> 00:09:47,000
可能又會不一樣

277
00:09:47,000 --> 00:09:48,000
然後再拿

278
00:09:48,000 --> 00:09:49,000
2016到2018的區間

279
00:09:49,000 --> 00:09:50,000
可能又會不一樣

280
00:09:50,000 --> 00:09:52,000
所以

281
00:09:52,000 --> 00:09:54,000
其實這個

282
00:09:54,000 --> 00:09:56,000
這個模型的未來展望

283
00:09:56,000 --> 00:09:58,000
就是我可能會把

284
00:09:58,000 --> 00:10:01,000
不同區間

285
00:10:01,000 --> 00:10:03,000
切割比如說10個區間

286
00:10:03,000 --> 00:10:04,000
然後看看說

287
00:10:04,000 --> 00:10:05,000
總體的交易回報率

288
00:10:05,000 --> 00:10:06,000
到底是怎麼樣

289
00:10:06,000 --> 00:10:08,000
然後才可以去確定說

290
00:10:08,000 --> 00:10:09,000
到底能不能夠

291
00:10:09,000 --> 00:10:11,000
得到更好的交易結果

292
00:10:11,000 --> 00:10:12,000
好

293
00:10:12,000 --> 00:10:15,000
那這就是我這次的專題

